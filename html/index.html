<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>rectangular_table_detection: rectangular_table_detection</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rectangular_table_detection
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">rectangular_table_detection </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#links">Links</a></li>
<li class="level1"><a href="#sec_overview">Overview</a></li>
<li class="level1"><a href="#sec_nodes">Nodes</a><ul><li class="level2"><a href="#sec_node_detection">Node ransac_plane_detection</a><ul><li class="level3"><a href="#sec_detection_param">Parameters</a></li>
<li class="level3"><a href="#sec_detection_sub_topics">Subscribed topics</a></li>
<li class="level3"><a href="#sec_detection_pub_topics">Published topics</a></li>
<li class="level3"><a href="#sec_detection_tf">Published transform</a></li>
</ul>
</li>
<li class="level2"><a href="#sec_node_filtering">Node simple_filtering</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="links"></a>
Links</h1>
<p>GitHub repo <a href="https://github.com/julesw/rectangle_table_detection/tree/master">https://github.com/julesw/rectangle_table_detection/tree/master</a></p>
<p>Documentation (this) <a href="http://julesw.github.io/rectangle_table_detection/html">http://julesw.github.io/rectangle_table_detection/html</a></p>
<h1><a class="anchor" id="sec_overview"></a>
Overview</h1>
<p>This is a ROS package, developped for <a href="http://wiki.ros.org/groovy">ROS Groovy</a>.</p>
<p>For a quick start guide, directly go to <a class="el" href="basicuse.html">Basic Use</a>.</p>
<p>This package was created with the purpose of providing a table-detection tool for robotic manipulation, or any other purpose. Most of the existing table-detection tools only detects plane (ROS' <a href="http://wiki.ros.org/tabletop_object_detector">tabletop_object_detector</a>, PCL <a href="http://www.pointclouds.org/documentation/tutorials/planar_segmentation.php#planar-segmentation">plane segmentation</a>). We wanted a tool that could give us dimensions of the table. We also needed to give the system some indications about that table, so that it can 'choose' between several possibilities. These indications are the normal of the plane, a bounding box were the plane table is expected to be, or at least a height range (for standard table we will be looking for a plane that is normal to the vertical, and in the range 70 - 90 cm)</p>
<p>This package provides a tool for seeking a plane that is orthogonal to the 'z' axis of a provided tf frame. It also provides an implementation of the filtering process (from pcl tutorial). Contains an helpfull launcher, for demo.</p>
<h1><a class="anchor" id="sec_nodes"></a>
Nodes</h1>
<p>Here is a list of the nodes of the package and their parameters, published and subscribed topics, services, etc...</p>
<h2><a class="anchor" id="sec_node_detection"></a>
Node ransac_plane_detection</h2>
<p>Defined here: <a class="el" href="ransac__plane__detection_8h.html" title="The main file header for the ransac_plane_detection node. ">ransac_plane_detection.h</a>.</p>
<div class="image">
<img src="ransac_plane_detection_rqt20.png" alt="ransac_plane_detection_rqt20.png"/>
<div class="caption">
rqthraph of the ransac_plane_detection node</div></div>
 <dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>TODO change image !</dd></dl>
<p>The node that actually does the computation. It uses RanSAC methods for detecting the plane and its borders.</p>
<h3><a class="anchor" id="sec_detection_param"></a>
Parameters</h3>
<dl class="section user"><dt><code>reference_tf</code> (string, default: "/world")</dt><dd>The name of the reference frame. The program will seek a plane that is orthogonal to the z axis of this frame.</dd></dl>
<dl class="section user"><dt><code>max_height</code> (float, default: 0.9)</dt><dd>The maximal height of the table we search. (in meters)</dd></dl>
<dl class="section user"><dt><code>min_height</code> (float, default: 0.65)</dt><dd>The minimal height of the table we search. (in meters)</dd></dl>
<dl class="section user"><dt>RanSaC-specific parameters</dt><dd></dd></dl>
<dl class="section user"><dt><code>ransac_dist_threshold</code> (float, default: 0.05)</dt><dd>Threshold for pcl ransac method, when searching for the table plane.</dd></dl>
<dl class="section user"><dt><code>ransac_line_dist_threshold</code> (float, default: 0.01)</dt><dd>Threshold for pcl ransac method when searching for borders of the table.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The value for this parameter should be choosen carrefuly. It is a common source of negatives detections, as the lines detected can be different from the real ones, and then the program does not find a rectangle in these lines.</dd></dl>
<dl class="section user"><dt><code>ransac_model_espilon</code> (float, default: 0.05)</dt><dd>For pcl ransac method, the epsilon angle offset for plane matching.</dd></dl>
<dl class="section user"><dt>Other detection parameters</dt><dd></dd></dl>
<dl class="section user"><dt><code>concave_hull_alpha</code> (float, default: 0.05)</dt><dd>The alpha parameter for the <a class="el" href="concave__hull_8h.html#a8e38d14560cee516f3dbe8578e37c831" title="Compute concave hull of a plan. ">calc_concave_hull()</a> function (the smaller, the more detailed is the hull). Only &gt;0 values.</dd></dl>
<dl class="section user"><dt><code>ortho_rad_thresh</code> (float, default: 0.08)</dt><dd>The angle threshold that will be used to determine if an angle is ~pi/2 (90Â°).</dd></dl>
<dl class="section user"><dt>Outputs selectors</dt><dd></dd></dl>
<dl class="section user"><dt><code>publish_outliers_pcl</code> (boolean, default: false)</dt><dd>Choose to publish the outliers of the plane detection (all points but the plane).</dd></dl>
<dl class="section user"><dt><code>publish_plane_pcl</code> (boolean, default: false)</dt><dd>Choose to publish the point cloud of the detected table (inliers).</dd></dl>
<dl class="section user"><dt><code>publish_hull_pcl</code> (boolean, default: false)</dt><dd>Deprecated: only usefull for debug, should be removed. Choose to publish the detected hull (for debug).</dd></dl>
<dl class="section user"><dt><code>publish_marker_rviz</code> (boolean, default: false)</dt><dd>Choose to publish an rviz marker to visualize detection results in rviz.</dd></dl>
<h3><a class="anchor" id="sec_detection_sub_topics"></a>
Subscribed topics</h3>
<dl class="section user"><dt><code>~input</code> (sensor_msgs/PointCloud2)</dt><dd>Input pointcloud, organized or not (can be filtered)</dd></dl>
<h3><a class="anchor" id="sec_detection_pub_topics"></a>
Published topics</h3>
<dl class="section user"><dt><code>~output</code> (sensor_msgs/PointCloud2)</dt><dd>Pointcloud of inliers (the pointcloud of the plane)</dd></dl>
<dl class="section user"><dt><code>~table_dimensions</code> (geometry_msgs/Point)</dt><dd>The dimensions of the table are published in the x and y elements of the published point.</dd></dl>
<h3><a class="anchor" id="sec_detection_tf"></a>
Published transform</h3>
<dl class="section user"><dt>/camera_depth_optical_frame -&gt; /plane</dt><dd>The transform from the camera to the estimated center of the plane</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>end node documentation <a class="el" href="index.html#sec_node_detection">Node ransac_plane_detection</a> </dd></dl>
<h2><a class="anchor" id="sec_node_filtering"></a>
Node simple_filtering</h2>
<p>directly from ros pcl tutorial <a href="http://www.ros.org/wiki/pcl/Tutorials">http://www.ros.org/wiki/pcl/Tutorials</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 11 2013 14:32:02 for rectangular_table_detection by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
